package gameboy

import (
	"reflect"
	"testing"
)

func TestCreateTileMap(t *testing.T) {
	ch := make(chan bool)
	in := make(chan uint8)
	var gb = GameboyFactory(ch, in)
	gb.MMU.LoadDump()

	var tileMap = gb.GPU.Create_tile_map()

	var cp = reflect.DeepEqual(tileMap[1], []uint8{
		0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00,
		0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00,
		0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00,
		0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00,
		0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00,
		0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00,
		0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x01, 0x01,
		0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x01, 0x01,
	})

	if !cp {
		t.Errorf("Invalid tile")
	}
}
